<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>17.3 ‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•‡∏™‡∏ñ‡∏¥‡∏ï (‡∏â‡∏ö‡∏±‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå)</title>
    <meta name="description" content="‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÄ‡∏™‡∏°‡∏∑‡∏≠‡∏ô‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡πÉ‡∏ô‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•, ‡∏Å‡∏é‡∏Ç‡∏≠‡∏á‡∏û‡∏≤‡∏™‡∏Ñ‡∏±‡∏•, ‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏≠‡∏≤‡∏£‡πå‡∏Ñ‡∏¥‡∏°‡∏µ‡∏î‡∏µ‡∏™" />
    <meta name="theme-color" content="#5b6fe6" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- KaTeX for beautiful math rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" xintegrity="sha384-n8MVd4RsNIU0KOVEMVIhbGKZC0sHCjodCIbAyOVK24jF2fYEVcfNE6oRdFToOTwV" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" xintegrity="sha384-XjKyOOlVwcjNcsNQTeKa7fBI3DGhsczS0IOPRTmlAJ7QNusTdTsEBOPdQpEB8w3V" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" xintegrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        thai: ['Sarabun', 'sans-serif']
                    },
                    colors: {
                        'brand-purple': '#5b6fe6',
                        'brand-blue': '#667eea',
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Sarabun', 'sans-serif'; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        input[type="range"] {
            -webkit-appearance: none; appearance: none;
            width: 100%; height: 8px;
            background: #d1d5db; border-radius: 5px;
            outline: none; opacity: 0.7;
            transition: opacity .2s;
        }
        input[type="range"]:hover { opacity: 1; }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none; appearance: none;
            width: 20px; height: 20px;
            background: #3b82f6; cursor: pointer;
            border-radius: 50%;
        }
        input[type="range"]::-moz-range-thumb {
            width: 20px; height: 20px;
            background: #3b82f6; cursor: pointer;
            border-radius: 50%;
        }
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { 
            -webkit-appearance: none; 
            margin: 0; 
        }
        input[type=number] { -moz-appearance: textfield; }
        .material-btn {
            transition: all 0.2s ease-in-out;
            border: 2px solid transparent;
        }
        .material-btn-active {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(59, 130, 246, 0.5);
            background-color: #3b82f6;
            color: white;
            border-color: #2563eb;
        }
        .equation-box {
            background-color: #f3f4f6; padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            font-size: 1.25rem; /* KaTeX will control its own font size */
        }
        .tabular-nums { font-variant-numeric: tabular-nums; }
        .variable-list {
            background-color: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-top: 1.5rem;
        }
        .variable-list p {
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
            display: flex;
            align-items: flex-start;
        }
        .variable-list p > span:first-of-type {
            display: inline-block;
            min-width: 140px;
            text-align: right;
            margin-right: 10px;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">
    <!-- Navigation -->
    <nav class="gradient-bg text-white shadow-lg sticky top-0 z-50" role="navigation" aria-label="‡∏´‡∏•‡∏±‡∏Å">
        <div class="container mx-auto px-4 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-white rounded-full flex items-center justify-center" aria-hidden="true">
                    <span class="text-2xl">‚öñÔ∏è</span>
                </div>
                <h1 class="text-lg sm:text-xl font-bold">17.3 ‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•‡∏™‡∏ñ‡∏¥‡∏ï</h1>
            </div>
        </div>
    </nav>

    <main class="container mx-auto px-4 py-8 sm:py-12">
        <div class="max-w-6xl mx-auto bg-white p-4 sm:p-8 rounded-2xl shadow-lg space-y-12">
            
            <!-- Section 1: Fluid Pressure -->
            <div>
                <h2 class="text-3xl font-bold text-purple-700 mb-6">17.3.1 ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡πÉ‡∏ô‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•</h2>
                <p class="mb-4 text-gray-700 leading-relaxed">
                    <strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô (Pressure, P)</strong> ‡∏Ñ‡∏∑‡∏≠‡πÅ‡∏£‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ï‡∏±‡πâ‡∏á‡∏â‡∏≤‡∏Å‡∏ï‡πà‡∏≠‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà ($P = F/A$) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô ‡∏ì ‡∏à‡∏∏‡∏î‡πÉ‡∏î‡πÜ ‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏• ‡∏ã‡∏∂‡πà‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•‡∏ô‡∏µ‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤ <strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡πÄ‡∏Å‡∏à (Gauge Pressure)</strong>
                </p>
                <div class="equation-box my-4">
                    $$ P_{‡πÄ‡∏Å‡∏à} = \rho g h $$
                </div>
                <p class="mb-4 text-gray-700 leading-relaxed">
                    ‡∏´‡∏≤‡∏Å‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏® ($P_{atm}$) ‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ú‡∏¥‡∏ß‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•‡∏î‡πâ‡∏ß‡∏¢ ‡∏à‡∏∞‡πÑ‡∏î‡πâ <strong>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡∏™‡∏±‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå (Absolute Pressure)</strong> ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏ì ‡∏à‡∏∏‡∏î‡∏ô‡∏±‡πâ‡∏ô
                </p>
                <div class="equation-box my-4">
                    $$ P_{‡∏™‡∏±‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå} = P_{atm} + \rho g h $$
                </div>
                <div class="variable-list">
                    <p><span>$P_{‡πÄ‡∏Å‡∏à}$</span> = ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡πÄ‡∏Å‡∏à (Pa)</p>
                    <p><span>$P_{‡∏™‡∏±‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå}$</span> = ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡∏™‡∏±‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå (Pa)</p>
                    <p><span>$P_{atm}$</span> = ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏® (Pa, ‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì $1.01 \times 10^5$ Pa)</p>
                    <p><span>$\rho$</span> = ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏• (kg/m¬≥)</p>
                    <p><span>$g$</span> = ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á‡πÇ‡∏ô‡πâ‡∏°‡∏ñ‡πà‡∏ß‡∏á (m/s¬≤)</p>
                    <p><span>$h$</span> = ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∂‡∏Å‡∏à‡∏≤‡∏Å‡∏ú‡∏¥‡∏ß‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏• (m)</p>
                </div>

                <!-- SIMULATION: Fluid Pressure -->
                <div class="mt-8 bg-white border border-gray-200 rounded-lg shadow-md p-4 sm:p-6">
                    <h3 class="text-xl font-semibold mb-6 text-blue-600">üî¨ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡πÉ‡∏ô‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•</h3>
                    <div class="flex flex-col lg:flex-row lg:gap-6">
                        <!-- Controls -->
                        <div class="lg:w-1/3 lg:order-2 bg-gray-50 p-4 sm:p-6 rounded-xl shadow-inner mb-6 lg:mb-0">
                            <div class="space-y-4">
                                <div>
                                    <label for="densitySlider" class="font-medium text-sm mb-1 block text-gray-600">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô (œÅ)</label>
                                    <div class="flex items-center gap-2">
                                        <input type="range" id="densitySlider" min="100" max="14000" value="1000" step="50" class="flex-grow">
                                        <input type="number" id="densityNumber" min="100" max="14000" value="1000" class="w-24 text-center border rounded-md p-1 bg-white tabular-nums">
                                        <span class="text-xs text-gray-500">kg/m¬≥</span>
                                    </div>
                                </div>
                                <div>
                                    <label for="depthSlider" class="font-medium text-sm mb-1 block text-gray-600">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∂‡∏Å (h)</label>
                                    <div class="flex items-center gap-2">
                                        <input type="range" id="depthSlider" min="0" max="100" value="10" step="1" class="flex-grow">
                                        <input type="number" id="depthNumber" min="0" max="100" value="10" class="w-24 text-center border rounded-md p-1 bg-white tabular-nums">
                                        <span class="text-xs text-gray-500">m</span>
                                    </div>
                                </div>
                            </div>
                            <hr class="my-6">
                            <div class="text-center p-3 bg-blue-100 rounded-lg">
                                <h4 class="font-bold text-blue-800">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡πÄ‡∏Å‡∏à (P)</h4>
                                <p id="pressureDisplay" class="font-semibold text-2xl mt-1 text-blue-700 tabular-nums">98.10 kPa</p>
                            </div>
                            <div class="mt-6 space-y-2">
                                <button id="calculatePressureBtn" class="w-full text-center py-3 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg transition text-base">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•</button>
                                <div class="flex gap-2">
                                    <button id="clearPressureGraphBtn" class="w-1/2 text-center py-2 bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-bold rounded-lg transition text-sm">‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏≤‡∏ü</button>
                                    <button id="exportPressureCsvBtn" class="w-1/2 text-center py-2 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg transition text-sm">‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å CSV</button>
                                </div>
                            </div>
                        </div>
                        <!-- Visuals -->
                        <div class="lg:w-2/3 lg:order-1 space-y-4 lg:space-y-6">
                            <div class="w-full flex items-center justify-center bg-gray-50 p-4 rounded-xl shadow-inner h-72 sm:h-80 lg:min-h-[350px]">
                                <canvas id="pressureCanvas"></canvas>
                            </div>
                            <div class="w-full bg-gray-50 p-2 sm:p-4 rounded-xl shadow-inner h-64 sm:h-72">
                                <canvas id="pressureChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Example Problem: Fluid Pressure -->
                <div class="mt-8 p-6 bg-blue-50 border border-blue-200 rounded-lg">
                    <h4 class="text-lg font-semibold text-blue-800 mb-4">üí° ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà 1</h4>
                    <p class="font-medium">‡πÇ‡∏à‡∏ó‡∏¢‡πå:</p>
                    <p class="mb-4">‡∏ô‡∏±‡∏Å‡∏õ‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡πâ‡∏≥‡∏î‡∏≥‡∏•‡∏á‡πÑ‡∏õ‡πÉ‡∏ô‡∏ó‡∏∞‡πÄ‡∏•‡∏™‡∏≤‡∏ö‡∏ô‡πâ‡∏≥‡∏à‡∏∑‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô $1000 \text{ kg/m}^3$ ‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∂‡∏Å 20 ‡πÄ‡∏°‡∏ï‡∏£ ‡∏à‡∏á‡∏´‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡πÄ‡∏Å‡∏à‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ô‡∏±‡∏Å‡∏õ‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡πâ‡∏≥ (‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ $g = 9.81 \text{ m/s}^2$)</p>
                    <p class="font-medium">‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥:</p>
                    <div class="space-y-2 text-gray-700">
                        <p>‡∏à‡∏≤‡∏Å‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡πÄ‡∏Å‡∏à:</p>
                        <div class="pl-4">$$ P_{‡πÄ‡∏Å‡∏à} = \rho g h $$</div>
                        <p>‡πÅ‡∏ó‡∏ô‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ó‡∏µ‡πà‡∏ó‡∏£‡∏≤‡∏ö:</p>
                        <div class="pl-4">$$ P_{‡πÄ‡∏Å‡∏à} = (1000 \text{ kg/m}^3)(9.81 \text{ m/s}^2)(20 \text{ m}) $$</div>
                        <div class="pl-4">$$ P_{‡πÄ‡∏Å‡∏à} = 196,200 \text{ N/m}^2 \text{ ‡∏´‡∏£‡∏∑‡∏≠ } 196,200 \text{ Pa} $$</div>
                        <p>‡πÅ‡∏õ‡∏•‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏¥‡πÇ‡∏•‡∏û‡∏≤‡∏™‡∏Ñ‡∏±‡∏• (kPa):</p>
                         <div class="pl-4">$$ P_{‡πÄ‡∏Å‡∏à} = 196.2 \text{ kPa} $$</div>
                    </div>
                    <p class="mt-4 font-bold text-blue-700">‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡πÄ‡∏Å‡∏à‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ô‡∏±‡∏Å‡∏õ‡∏£‡∏∞‡∏î‡∏≤‡∏ô‡πâ‡∏≥‡∏Ñ‡∏∑‡∏≠ 196.2 ‡∏Å‡∏¥‡πÇ‡∏•‡∏û‡∏≤‡∏™‡∏Ñ‡∏±‡∏•</p>
                </div>
            </div>

            <hr class="my-12 border-t-2 border-gray-200">

            <!-- Section 2: Pascal's Principle -->
            <div>
                <h2 class="text-3xl font-bold text-purple-700 mb-6">17.3.2 ‡∏Å‡∏é‡∏Ç‡∏≠‡∏á‡∏û‡∏≤‡∏™‡∏Ñ‡∏±‡∏•</h2>
                 <p class="mb-4 text-gray-700 leading-relaxed">
                    "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡πÉ‡∏´‡πâ‡πÅ‡∏Å‡πà‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏¥‡πà‡∏á‡πÉ‡∏ô‡∏†‡∏≤‡∏ä‡∏ô‡∏∞‡∏õ‡∏¥‡∏î ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏ó‡∏∏‡∏Å‡πÜ ‡∏à‡∏∏‡∏î‡πÉ‡∏ô‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•‡πÅ‡∏•‡∏∞‡∏ú‡∏ô‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏†‡∏≤‡∏ä‡∏ô‡∏∞‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏±‡πà‡∏ß‡∏ñ‡∏∂‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô" ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏•‡∏ú‡πà‡∏≠‡∏ô‡πÅ‡∏£‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤ <strong>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏±‡∏î‡πÑ‡∏Æ‡∏î‡∏£‡∏≠‡∏•‡∏¥‡∏Å</strong> ‡∏ã‡∏∂‡πà‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏£‡∏∞‡∏ö‡∏≠‡∏Å‡∏™‡∏π‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏π‡∏Å‡∏™‡∏π‡∏ö‡∏™‡∏≠‡∏á‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô
                </p>
                <div class="equation-box my-4">
                    $$ \frac{F}{a} = \frac{W}{A} $$
                </div>
                <div class="variable-list">
                    <p><span>$F$</span> = ‡πÅ‡∏£‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏•‡∏π‡∏Å‡∏™‡∏π‡∏ö‡πÄ‡∏•‡πá‡∏Å (N)</p>
                    <p><span>$W$</span> = ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏¢‡∏Å‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡∏•‡∏π‡∏Å‡∏™‡∏π‡∏ö‡πÉ‡∏´‡∏ç‡πà (N)</p>
                    <p><span>$a$</span> = ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏±‡∏î‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏™‡∏π‡∏ö‡πÄ‡∏•‡πá‡∏Å (m¬≤)</p>
                    <p><span>$A$</span> = ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏±‡∏î‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏™‡∏π‡∏ö‡πÉ‡∏´‡∏ç‡πà (m¬≤)</p>
                </div>
                 <p class="mt-8 mb-4 text-gray-700 leading-relaxed">
                    ‡∏ñ‡πâ‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏±‡∏î‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏™‡∏π‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏á‡∏Å‡∏•‡∏° ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ
                </p>
                 <div class="equation-box my-4">
                      $$ \frac{F}{r^2} = \frac{W}{R^2} \quad \text{‡∏´‡∏£‡∏∑‡∏≠} \quad \frac{F}{d^2} = \frac{W}{D^2} $$
                 </div>
                 <p class="mt-4 mb-4 text-gray-700 leading-relaxed">
                    ‡∏à‡∏≤‡∏Å‡∏Å‡∏é‡∏Ç‡∏≠‡∏á‡∏û‡∏≤‡∏™‡∏Ñ‡∏±‡∏• ‡πÄ‡∏£‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏≤ <strong>‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏• (Mechanical Advantage, M.A.)</strong> ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏•‡∏ô‡∏±‡πâ‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡∏ú‡πà‡∏≠‡∏ô‡πÅ‡∏£‡∏á‡πÑ‡∏î‡πâ‡∏Å‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤
                </p>
                 <div class="equation-box my-4">
                    $$ M.A. = \frac{W}{F} = \frac{A}{a} = \frac{R^2}{r^2} = \frac{D^2}{d^2} $$
                </div>
                <div class="variable-list">
                    <p><span>$r, d$</span> = ‡∏£‡∏±‡∏®‡∏°‡∏µ ‡πÅ‡∏•‡∏∞ ‡πÄ‡∏™‡πâ‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏™‡∏π‡∏ö‡πÄ‡∏•‡πá‡∏Å (m)</p>
                    <p><span>$R, D$</span> = ‡∏£‡∏±‡∏®‡∏°‡∏µ ‡πÅ‡∏•‡∏∞ ‡πÄ‡∏™‡πâ‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏•‡∏π‡∏Å‡∏™‡∏π‡∏ö‡πÉ‡∏´‡∏ç‡πà (m)</p>
                    <p><span>$M.A.$</span> = ‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏• (‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏´‡∏ô‡πà‡∏ß‡∏¢)</p>
                </div>


                <!-- SIMULATION: Pascal's Law -->
                <div class="mt-8 bg-white border border-gray-200 rounded-lg shadow-md p-4 sm:p-6">
                    <h3 class="text-xl font-semibold mb-6 text-blue-600">üî¨ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á: ‡∏Å‡∏é‡∏Ç‡∏≠‡∏á‡∏û‡∏≤‡∏™‡∏Ñ‡∏±‡∏•</h3>
                    <div class="flex flex-col lg:flex-row lg:gap-8">
                        <!-- Visuals & Graph (Left Column) -->
                        <div class="lg:w-3/5 space-y-6">
                             <div class="w-full flex items-center justify-center bg-gray-50 p-4 rounded-xl shadow-inner h-72 sm:h-80 lg:min-h-[350px]">
                                <canvas id="pascalCanvas"></canvas>
                            </div>
                            <div class="w-full bg-gray-50 p-2 sm:p-4 rounded-xl shadow-inner h-64 sm:h-72">
                                <canvas id="pascalChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Controls & Results (Right Column) -->
                        <div class="lg:w-2/5 bg-gray-50 p-4 sm:p-6 rounded-xl shadow-inner">
                            <div class="space-y-4">
                                <div>
                                    <label for="f_slider" class="font-medium text-sm mb-1 block text-gray-600">‡πÅ‡∏£‡∏á‡∏Å‡∏î‡πÄ‡∏Ç‡πâ‡∏≤ (F)</label>
                                    <div class="flex items-center gap-2">
                                        <input type="range" id="f_slider" min="0" max="500" value="100" step="1" class="flex-grow">
                                        <input type="number" id="f_number" min="0" max="500" value="100" class="w-24 text-center border rounded-md p-1 bg-white tabular-nums">
                                        <span class="text-xs text-gray-500">N</span>
                                    </div>
                                </div>
                                <div>
                                    <label for="d_small_slider" class="font-medium text-sm mb-1 block text-gray-600">‡πÄ‡∏™‡πâ‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏•‡πá‡∏Å (d)</label>
                                    <div class="flex items-center gap-2">
                                        <input type="range" id="d_small_slider" min="0.5" max="5" value="1.5" step="0.01" class="flex-grow">
                                        <input type="number" id="d_small_number" min="0.5" max="5" value="1.5" step="0.01" class="w-24 text-center border rounded-md p-1 bg-white tabular-nums">
                                        <span class="text-xs text-gray-500">cm</span>
                                    </div>
                                </div>
                                <div>
                                    <label for="D_large_slider" class="font-medium text-sm mb-1 block text-gray-600">‡πÄ‡∏™‡πâ‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á‡πÉ‡∏´‡∏ç‡πà (D)</label>
                                    <div class="flex items-center gap-2">
                                        <input type="range" id="D_large_slider" min="1" max="25" value="3" step="0.01" class="flex-grow">
                                        <input type="number" id="D_large_number" min="1" max="25" value="3" step="0.01" class="w-24 text-center border rounded-md p-1 bg-white tabular-nums">
                                        <span class="text-xs text-gray-500">cm</span>
                                    </div>
                                </div>
                            </div>
                            
                            <hr class="my-6">
                            
                            <div id="results" class="grid grid-cols-2 gap-4 text-xs">
                                <!-- Small Piston -->
                                <div class="text-center p-3 bg-white rounded-lg border">
                                    <h4 class="font-bold text-gray-700">‡∏Å‡∏£‡∏∞‡∏ö‡∏≠‡∏Å‡∏™‡∏π‡∏ö‡πÄ‡∏•‡πá‡∏Å</h4>
                                    <p class="mt-1">‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà (a): <span id="a_val" class="font-semibold block tabular-nums">0 m¬≤</span></p>
                                    <p class="mt-1">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô (P<sub class="text-xs">a</sub>): <span id="p_small_val" class="font-semibold block tabular-nums">0 kPa</span></p>
                                </div>
                                <!-- Large Piston -->
                                <div class="text-center p-3 bg-white rounded-lg border">
                                    <h4 class="font-bold text-gray-700">‡∏Å‡∏£‡∏∞‡∏ö‡∏≠‡∏Å‡∏™‡∏π‡∏ö‡πÉ‡∏´‡∏ç‡πà</h4>
                                    <p class="mt-1">‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà (A): <span id="A_val" class="font-semibold block tabular-nums">0 m¬≤</span></p>
                                    <p class="mt-1">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô (P<sub class="text-xs">A</sub>): <span id="p_large_val" class="font-semibold block tabular-nums">0 kPa</span></p>
                                </div>
                                <!-- Results Box -->
                                <div class="col-span-2 text-center p-4 bg-green-100 rounded-lg space-y-2 border border-green-200">
                                    <h4 class="font-bold text-green-800 text-base">‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</h4>
                                    <div class="flex justify-center items-baseline gap-2">
                                        <p class="text-gray-700 text-sm">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏¢‡∏Å‡πÑ‡∏î‡πâ (W):</p>
                                        <p class="font-semibold text-xl text-green-700 tabular-nums" id="W_val">0</p>
                                        <p class="text-gray-700 text-sm">N</p>
                                    </div>
                                    <div class="flex justify-center items-baseline gap-2">
                                        <p class="text-gray-700 text-sm">‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏• (M.A.):</p>
                                        <p class="font-semibold text-xl text-green-700 tabular-nums" id="ma_val">0</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-6 space-y-2">
                                <button id="calculatePascalBtn" class="w-full text-center py-3 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg transition text-base">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•</button>
                                <div class="flex gap-2">
                                    <button id="clearPascalGraphBtn" class="w-1/2 text-center py-2 bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-bold rounded-lg transition text-sm">‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏≤‡∏ü</button>
                                    <button id="exportPascalCsvBtn" class="w-1/2 text-center py-2 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg transition text-sm">‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å CSV</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Example Problem: Pascal's Law -->
                <div class="mt-8 p-6 bg-blue-50 border border-blue-200 rounded-lg">
                    <h4 class="text-lg font-semibold text-blue-800 mb-4">üí° ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà 2</h4>
                    <p class="font-medium">‡πÇ‡∏à‡∏ó‡∏¢‡πå:</p>
                    <p class="mb-4">‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏±‡∏î‡πÑ‡∏Æ‡∏î‡∏£‡∏≠‡∏•‡∏¥‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á ‡∏•‡∏π‡∏Å‡∏™‡∏π‡∏ö‡πÄ‡∏•‡πá‡∏Å‡∏°‡∏µ‡πÄ‡∏™‡πâ‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á 5 cm ‡πÅ‡∏•‡∏∞‡∏•‡∏π‡∏Å‡∏™‡∏π‡∏ö‡πÉ‡∏´‡∏ç‡πà‡∏°‡∏µ‡πÄ‡∏™‡πâ‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á 25 cm ‡∏ñ‡πâ‡∏≤‡∏≠‡∏≠‡∏Å‡πÅ‡∏£‡∏á‡∏Å‡∏î‡∏ó‡∏µ‡πà‡∏•‡∏π‡∏Å‡∏™‡∏π‡∏ö‡πÄ‡∏•‡πá‡∏Å 100 N ‡∏à‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡πÑ‡∏î‡πâ‡πÄ‡∏ó‡πà‡∏≤‡πÉ‡∏î ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏•‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡πÉ‡∏î</p>
                    <p class="font-medium">‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥:</p>
                    <div class="space-y-2 text-gray-700">
                        <p>1. ‡∏´‡∏≤‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏¢‡∏Å‡πÑ‡∏î‡πâ (W) ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡πÅ‡∏£‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡πâ‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á:</p>
                        <div class="pl-4">$$ \frac{F}{d^2} = \frac{W}{D^2} $$</div>
                        <p>‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡∏™‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤ W:</p>
                        <div class="pl-4">$$ W = F \left( \frac{D^2}{d^2} \right) = F \left( \frac{D}{d} \right)^2 $$</div>
                        <p>‡πÅ‡∏ó‡∏ô‡∏Ñ‡πà‡∏≤:</p>
                        <div class="pl-4">$$ W = 100 \text{ N} \left( \frac{25 \text{ cm}}{5 \text{ cm}} \right)^2 = 100 \text{ N} \times (5)^2 = 100 \text{ N} \times 25 $$</div>
                         <div class="pl-4">$$ W = 2500 \text{ N} $$</div>
                         <p>2. ‡∏´‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏• (M.A.):</p>
                         <div class="pl-4">$$ M.A. = \frac{W}{F} $$</div>
                         <div class="pl-4">$$ M.A. = \frac{2500 \text{ N}}{100 \text{ N}} = 25 $$</div>
                    </div>
                    <p class="mt-4 font-bold text-blue-700">‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö: ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏±‡∏î‡πÑ‡∏Æ‡∏î‡∏£‡∏≠‡∏•‡∏¥‡∏Å‡∏ô‡∏µ‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏Å‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 2500 ‡∏ô‡∏¥‡∏ß‡∏ï‡∏±‡∏ô ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏• 25 ‡πÄ‡∏ó‡πà‡∏≤</p>
                </div>
            </div>

            <hr class="my-12 border-t-2 border-gray-200">

            <!-- Section 3: Buoyancy -->
            <div>
                <h2 class="text-3xl font-bold text-purple-700 mb-6">17.3.3 ‡πÅ‡∏£‡∏á‡∏û‡∏¢‡∏∏‡∏á‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏≠‡∏≤‡∏£‡πå‡∏Ñ‡∏¥‡∏°‡∏µ‡∏î‡∏µ‡∏™</h2>
                 <p class="mb-4 text-gray-700 leading-relaxed">
                    <strong>‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏≠‡∏≤‡∏£‡πå‡∏Ñ‡∏¥‡∏°‡∏µ‡∏î‡∏µ‡∏™</strong> ‡∏Å‡∏•‡πà‡∏≤‡∏ß‡∏ß‡πà‡∏≤ "‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ó‡∏µ‡πà‡∏à‡∏°‡πÉ‡∏ô‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏Å‡πâ‡∏≠‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏°‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏£‡∏á‡∏û‡∏¢‡∏∏‡∏á (Buoyant force, $F_B$) ‡∏Å‡∏£‡∏∞‡∏ó‡∏≥ ‡∏ã‡∏∂‡πà‡∏á‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ô‡∏±‡πâ‡∏ô‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà"
                </p>
                <div class="equation-box my-4">
                    $$ F_{B} = \rho_{‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•} V_{‡∏à‡∏°} g $$
                </div>
                <div class="variable-list">
                    <p><span>$F_B$</span> = ‡πÅ‡∏£‡∏á‡∏û‡∏¢‡∏∏‡∏á (N)</p>
                    <p><span>$\rho_{‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•}$</span> = ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏• (kg/m¬≥)</p>
                    <p><span>$V_{‡∏à‡∏°}$</span> = ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏°‡πÉ‡∏ô‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏• (m¬≥)</p>
                    <p><span>$g$</span> = ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πà‡∏á‡πÇ‡∏ô‡πâ‡∏°‡∏ñ‡πà‡∏ß‡∏á (m/s¬≤)</p>
                </div>
                 <p class="mt-8 mb-4 text-gray-700 leading-relaxed">
                    ‡∏Å‡∏≤‡∏£‡∏•‡∏≠‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏°‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏ ($W$) ‡πÅ‡∏•‡∏∞‡πÅ‡∏£‡∏á‡∏û‡∏¢‡∏∏‡∏á ($F_B$) ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏ ($\rho_{‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏}$) ‡∏Å‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏• ($\rho_{‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•}$)
                    <ul class="list-disc list-inside mt-2 space-y-2">
                        <li><b>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏à‡∏°:</b> ‡πÄ‡∏°‡∏∑‡πà‡∏≠ $W > F_B$ (‡∏Å‡∏£‡∏ì‡∏µ‡∏à‡∏°‡∏°‡∏¥‡∏î) ‡∏´‡∏£‡∏∑‡∏≠ $\rho_{‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏} > \rho_{‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•}$</li>
                        <li><b>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏•‡∏≠‡∏¢:</b> ‡πÄ‡∏°‡∏∑‡πà‡∏≠ $W = F_B$ (‡∏Å‡∏£‡∏ì‡∏µ‡∏•‡∏≠‡∏¢‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô) ‡∏´‡∏£‡∏∑‡∏≠ $\rho_{‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏} < \rho_{‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•}$</li>
                        <li><b>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏•‡∏≠‡∏¢‡∏õ‡∏£‡∏¥‡πà‡∏°:</b> ‡πÄ‡∏°‡∏∑‡πà‡∏≠ $W = F_B$ (‡∏Å‡∏£‡∏ì‡∏µ‡∏à‡∏°‡∏°‡∏¥‡∏î) ‡∏´‡∏£‡∏∑‡∏≠ $\rho_{‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏} = \rho_{‡∏Ç‡∏≠‡∏á‡πÑ‡∏´‡∏•}$</li>
                    </ul>
                </p>
                
                <!-- SIMULATION: Buoyancy -->
                <div class="mt-8 bg-white border border-gray-200 rounded-lg shadow-md p-4 sm:p-6">
                    <h3 class="text-xl font-semibold mb-6 text-green-600">üî¨ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á: ‡πÅ‡∏£‡∏á‡∏•‡∏≠‡∏¢‡∏ï‡∏±‡∏ß</h3>
                    <div class="flex flex-col lg:flex-row lg:gap-6">
                              <!-- Controls -->
                        <div class="lg:w-1/3 lg:order-2 bg-gray-50 p-4 sm:p-6 rounded-xl shadow-inner mb-6 lg:mb-0">
                            <div>
                                <label class="font-medium text-sm mb-2 block text-gray-600">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏™‡∏î‡∏∏</label>
                                <div id="materialButtons" class="grid grid-cols-2 gap-2 text-center text-sm">
                                    <button data-density="700" class="material-btn p-2 rounded-lg bg-gray-200 material-btn-active">‡πÑ‡∏°‡πâ‡∏™‡∏ô</button>
                                    <button data-density="920" class="material-btn p-2 rounded-lg bg-gray-200">‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á</button>
                                    <button data-density="2700" class="material-btn p-2 rounded-lg bg-gray-200">‡∏≠‡∏∞‡∏•‡∏π‡∏°‡∏¥‡πÄ‡∏ô‡∏µ‡∏¢‡∏°</button>
                                    <button data-density="7850" class="material-btn p-2 rounded-lg bg-gray-200">‡πÄ‡∏´‡∏•‡πá‡∏Å</button>
                                </div>
                            </div>
                            <div class="mt-4">
                                <label for="volumeSlider" class="font-medium text-sm mb-1 block text-gray-600">‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£ (V)</label>
                                <div class="flex items-center gap-2">
                                   <input type="range" id="volumeSlider" min="0.001" max="0.05" value="0.01" step="0.001" class="flex-grow">
                                   <input type="number" id="volumeNumber" min="0.001" max="0.05" value="0.01" step="0.001" class="w-24 text-center border rounded-md p-1 bg-white tabular-nums">
                                   <span class="text-xs text-gray-500">m¬≥</span>
                                </div>
                            </div>
                            <hr class="my-6">
                            <div class="text-center p-3 bg-green-100 rounded-lg">
                                <h4 class="font-bold text-green-800">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</h4>
                                <p id="buoyancyStatus" class="font-semibold text-2xl mt-1 text-green-700">‡∏•‡∏≠‡∏¢</p>
                            </div>
                            <div class="mt-6 space-y-2">
                                 <button id="calculateBuoyancyBtn" class="w-full text-center py-3 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg transition text-base">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•</button>
                                <div class="flex gap-2">
                                   <button id="clearBuoyancyGraphBtn" class="w-1/2 text-center py-2 bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-bold rounded-lg transition text-sm">‡∏•‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏≤‡∏ü</button>
                                   <button id="exportBuoyancyCsvBtn" class="w-1/2 text-center py-2 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg transition text-sm">‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å CSV</button>
                                </div>
                            </div>
                        </div>
                        <!-- Visuals -->
                        <div class="lg:w-2/3 lg:order-1 space-y-4 lg:space-y-6">
                            <div class="w-full flex items-center justify-center bg-gray-50 p-4 rounded-xl shadow-inner h-72 sm:h-80 lg:min-h-[350px]">
                                <canvas id="buoyancyCanvas"></canvas>
                            </div>
                            <div class="w-full bg-gray-50 p-2 sm:p-4 rounded-xl shadow-inner h-64 sm:h-72">
                                <canvas id="buoyancyChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Example Problem: Buoyancy -->
                <div class="mt-8 p-6 bg-blue-50 border border-blue-200 rounded-lg">
                    <h4 class="text-lg font-semibold text-blue-800 mb-4">üí° ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ó‡∏µ‡πà 3</h4>
                    <p class="font-medium">‡πÇ‡∏à‡∏ó‡∏¢‡πå:</p>
                    <p class="mb-4">‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ó‡∏£‡∏á‡∏•‡∏π‡∏Å‡∏ö‡∏≤‡∏®‡∏Å‡πå‡∏°‡∏µ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£ 0.02 m¬≥ ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô 800 kg/m¬≥ ‡∏ñ‡∏π‡∏Å‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏•‡∏á‡πÉ‡∏ô‡∏ô‡πâ‡∏≥ ($\rho_{‡∏ô‡πâ‡∏≥} = 1000$ kg/m¬≥) ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏•‡∏≠‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏° ‡πÅ‡∏•‡∏∞‡∏à‡∏á‡∏´‡∏≤‡πÅ‡∏£‡∏á‡∏û‡∏¢‡∏∏‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏ (‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏´‡πâ $g = 9.81 \text{ m/s}^2$)</p>
                    <p class="font-medium">‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏≥:</p>
                    <div class="space-y-2 text-gray-700">
                        <p>1. ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏•‡∏≠‡∏¢/‡∏à‡∏°:</p>
                        <div class="pl-4"><p>$\rho_{‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏} = 800 \text{ kg/m}^3$</p></div>
                        <div class="pl-4"><p>$\rho_{‡∏ô‡πâ‡∏≥} = 1000 \text{ kg/m}^3$</p></div>
                        <div class="pl-4"><p>‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å $\rho_{‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏} < \rho_{‡∏ô‡πâ‡∏≥}$ ‡∏î‡∏±‡∏á‡∏ô‡∏±‡πâ‡∏ô ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏à‡∏∞‡∏•‡∏≠‡∏¢‡∏ô‡πâ‡∏≥</p></div>
                        <p>2. ‡∏´‡∏≤‡πÅ‡∏£‡∏á‡∏û‡∏¢‡∏∏‡∏á ($F_B$):</p>
                        <p class="pl-4">‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏•‡∏≠‡∏¢ ‡πÅ‡∏£‡∏á‡∏û‡∏¢‡∏∏‡∏á‡∏à‡∏∞‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏ó‡∏±‡πâ‡∏á‡∏Å‡πâ‡∏≠‡∏ô</p>
                        <div class="pl-4">$$ F_B = W_{‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏} $$</div>
                        <p class="pl-4">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏à‡∏≤‡∏Å $W = mg$ ‡πÅ‡∏•‡∏∞ $m = \rho V$</p>
                        <div class="pl-4">$$ W_{‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏} = (\rho_{‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏} V_{‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏}) g $$</div>
                        <p class="pl-4">‡πÅ‡∏ó‡∏ô‡∏Ñ‡πà‡∏≤:</p>
                        <div class="pl-4">$$ F_B = (800 \text{ kg/m}^3 \times 0.02 \text{ m}^3) \times 9.81 \text{ m/s}^2 $$</div>
                        <div class="pl-4">$$ F_B = (16 \text{ kg}) \times 9.81 \text{ m/s}^2 $$</div>
                        <div class="pl-4">$$ F_B = 156.96 \text{ N} $$</div>
                    </div>
                    <p class="mt-4 font-bold text-blue-700">‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö: ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏à‡∏∞‡∏•‡∏≠‡∏¢ ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡πÅ‡∏£‡∏á‡∏û‡∏¢‡∏∏‡∏á‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡∏Ç‡∏ô‡∏≤‡∏î 156.96 ‡∏ô‡∏¥‡∏ß‡∏ï‡∏±‡∏ô</p>
                </div>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="gradient-bg text-white py-8 mt-16" role="contentinfo">
        <div class="container mx-auto px-4 text-center">
           <p class="text-sm text-blue-200">‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢: ‡∏ô‡∏≤‡∏¢‡∏ó‡∏£‡∏á‡πÄ‡∏Å‡∏µ‡∏¢‡∏£‡∏ï‡∏¥ ‡∏™‡∏ß‡∏ô‡πÅ‡∏Å‡πâ‡∏ß ‡πÇ‡∏£‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏•‡∏≠‡∏á‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤ ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠‡∏•‡∏≠‡∏á ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡πÅ‡∏û‡∏£‡πà</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Render Math Equations ---
        if (typeof renderMathInElement === 'function') {
            renderMathInElement(document.body, {
                delimiters: [
                    {left: "$$", right: "$$", display: true},
                    {left: "$", right: "$", display: false}
                ]
            });
        }


        // --- Universal Constants & Data Stores ---
        const GRAVITY = 9.81;
        let pressureExperimentData = [];
        let pascalExperimentData = [];
        let buoyancyExperimentData = [];
        let pressureChart, pascalChart, buoyancyChart;

        // --- Utility Functions ---
        function exportToCSV(filename, headers, data) {
            const rows = data.map(d => d.join(','));
            const csvString = headers.join(',') + "\n" + rows.join("\n");
            const bom = '\uFEFF';
            const blob = new Blob([bom + csvString], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement("a");
            link.setAttribute("href", url);
            link.setAttribute("download", filename);
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }

        function drawArrow(ctx, fromx, fromy, tox, toy, color, label = '') {
            const headlen = 10;
            const dx = tox - fromx;
            const dy = toy - fromy;
            const angle = Math.atan2(dy, dx);
            ctx.strokeStyle = color;
            ctx.fillStyle = color;
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.moveTo(fromx, fromy);
            ctx.lineTo(tox, toy);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(tox, toy);
            ctx.lineTo(tox - headlen * Math.cos(angle - Math.PI / 6), toy - headlen * Math.sin(angle - Math.PI / 6));
            ctx.lineTo(tox - headlen * Math.cos(angle + Math.PI / 6), toy - headlen * Math.sin(angle + Math.PI / 6));
            ctx.closePath();
            ctx.fill();
            if (label) {
                ctx.fillStyle = '#1f2937';
                ctx.font = 'bold 14px Sarabun';
                ctx.textAlign = 'center';
                const isUpArrow = toy < fromy;
                ctx.fillText(label, tox, toy + (isUpArrow ? -15 : 20));
            }
        }

        function linkSliderAndNumber(sliderId, numberId) {
            const slider = document.getElementById(sliderId);
            const number = document.getElementById(numberId);
            if(!slider || !number) return;
            slider.addEventListener('input', () => { 
                number.value = slider.value; 
                // Manually trigger change event for dependent calculations
                slider.dispatchEvent(new Event('change', {bubbles: true}));
            });
            number.addEventListener('input', () => { 
                slider.value = number.value;
                // Manually trigger change event for dependent calculations
                number.dispatchEvent(new Event('change', {bubbles: true}));
            });
        }
        
        function linkSliderAndDisplay(sliderId, displayId, toFixed) {
            const slider = document.getElementById(sliderId);
            const display = document.getElementById(displayId);
            if (!slider || !display) return;
            const updateDisplay = () => {
                display.textContent = parseFloat(slider.value).toFixed(toFixed);
                // Dispatch a custom event to notify that the value has changed
                slider.dispatchEvent(new Event('change', { bubbles: true }));
            };
            slider.addEventListener('input', updateDisplay);
            updateDisplay(); // Initial call
        }

        function formatArea(area) {
            if (area === 0) return '0.00000';
            if (area < 0.0001 && area > 0) {
                 const parts = area.toExponential(2).split('e');
                return `${parts[0]} √ó 10<sup>${parts[1]}</sup>`;
            }
            return area.toFixed(5);
        }

        function formatAreaForCSV(area) {
             if (area === 0) return '0.00000';
            if (area < 0.0001 && area > 0) {
                return area.toExponential(2);
            }
            return area.toFixed(5);
        }
        
        // --- Simulation 1: Fluid Pressure ---
        const pressureSim = {
            canvas: document.getElementById('pressureCanvas'),
            chartCanvas: document.getElementById('pressureChart'),
            densitySlider: document.getElementById('densitySlider'),
            depthSlider: document.getElementById('depthSlider'),
            densityNumber: document.getElementById('densityNumber'),
            depthNumber: document.getElementById('depthNumber'),
            pressureDisplay: document.getElementById('pressureDisplay'),
            calculateBtn: document.getElementById('calculatePressureBtn'),
            clearBtn: document.getElementById('clearPressureGraphBtn'),
            exportBtn: document.getElementById('exportPressureCsvBtn'),
        };

        function initializePressureSim() {
            if (!pressureSim.canvas) return;
            linkSliderAndNumber('densitySlider', 'densityNumber');
            linkSliderAndNumber('depthSlider', 'depthNumber');
            const chartCtx = pressureSim.chartCanvas.getContext('2d');
            pressureChart = new Chart(chartCtx, {
                type: 'scatter',
                data: { datasets: [{
                    label: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á', data: [],
                    backgroundColor: 'rgba(59, 130, 246, 0.5)',
                }] },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: {
                        title: { display: true, text: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô (P) ‡πÅ‡∏•‡∏∞ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∂‡∏Å (h)', font: { size: 14, family: "'Sarabun', sans-serif" } },
                    },
                    scales: {
                        x: { type: 'linear', position: 'bottom', title: { display: true, text: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∂‡∏Å (h) [m]' }, min: 0 },
                        y: { title: { display: true, text: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô (P) [kPa]' }, min: 0 }
                    }
                }
            });
            updatePressureSim();
        }

        function drawPressureSim() {
            if (!pressureSim.canvas.getContext) return;
            const ctx = pressureSim.canvas.getContext('2d');
            const W = pressureSim.canvas.width = pressureSim.canvas.parentElement.clientWidth;
            const H = pressureSim.canvas.height = pressureSim.canvas.parentElement.clientHeight;
            const rho = parseFloat(pressureSim.densitySlider.value);
            const h = parseFloat(pressureSim.depthSlider.value);
            ctx.clearRect(0, 0, W, H);
            
            const fluidColor = `rgba(96, 165, 250, ${Math.min(1, rho/2000)})`;
            const tankWidth = W * 0.7;
            const tankX = (W - tankWidth) / 2;
            const tankBottom = H * 0.9;
            const tankTop = H * 0.1;
            const waterHeight = (tankBottom - tankTop);
            ctx.fillStyle = fluidColor;
            ctx.fillRect(tankX, tankTop, tankWidth, waterHeight);
            ctx.strokeStyle = '#374151';
            ctx.lineWidth = 4;
            ctx.strokeRect(tankX, tankTop, tankWidth, waterHeight);
            const sensorY = tankTop + (h / 100) * waterHeight;
            ctx.beginPath();
            ctx.setLineDash([5, 5]);
            ctx.moveTo(tankX, sensorY);
            ctx.lineTo(tankX + tankWidth, sensorY);
            ctx.strokeStyle = '#f87171';
            ctx.lineWidth = 2;
            ctx.stroke();
            ctx.setLineDash([]);
            ctx.fillStyle = '#ef4444';
            ctx.beginPath();
            ctx.arc(tankX + tankWidth/2, sensorY, 5, 0, 2 * Math.PI);
            ctx.fill();
            ctx.fillStyle = '#1f2937';
            ctx.font = '14px Sarabun';
            ctx.textAlign = 'right';
            ctx.fillText('h', tankX - 10, sensorY + 5);
        }
        
        function updatePressureSim() {
            if (!pressureSim.densitySlider) return;
            const rho = parseFloat(pressureSim.densitySlider.value);
            const h = parseFloat(pressureSim.depthSlider.value);
            const pressure = rho * GRAVITY * h;
            pressureSim.pressureDisplay.textContent = `${(pressure/1000).toFixed(2)} kPa`;
            drawPressureSim();
        }

        function logPressureData() {
            const rho = parseFloat(pressureSim.densitySlider.value);
            const h = parseFloat(pressureSim.depthSlider.value);
            const pressure = rho * GRAVITY * h;
            pressureExperimentData.push([h, rho, (pressure/1000).toFixed(2)]);
            pressureChart.data.datasets[0].data.push({x: h, y: pressure/1000});
            pressureChart.update();
        }

        // --- Simulation 2: Pascal's Law ---
        const pascalSim = {
            canvas: document.getElementById('pascalCanvas'),
            chartCanvas: document.getElementById('pascalChart'),
            fSlider: document.getElementById('f_slider'),
            dSmallSlider: document.getElementById('d_small_slider'),
            dLargeSlider: document.getElementById('D_large_slider'),
            fNumber: document.getElementById('f_number'),
            dSmallNumber: document.getElementById('d_small_number'),
            dLargeNumber: document.getElementById('D_large_number'),
            aVal: document.getElementById('a_val'),
            AVal: document.getElementById('A_val'),
            p_small_val: document.getElementById('p_small_val'),
            p_large_val: document.getElementById('p_large_val'),
            maVal: document.getElementById('ma_val'),
            WVal: document.getElementById('W_val'),
            calculateBtn: document.getElementById('calculatePascalBtn'),
            clearBtn: document.getElementById('clearPascalGraphBtn'),
            exportBtn: document.getElementById('exportPascalCsvBtn'),
        };
        
        function initializePascalSim() {
            if (!pascalSim.canvas) return;
            
            linkSliderAndNumber('f_slider', 'f_number');
            linkSliderAndNumber('d_small_slider', 'd_small_number');
            linkSliderAndNumber('D_large_slider', 'D_large_number');

            const chartCtx = pascalSim.chartCanvas.getContext('2d');
            pascalChart = new Chart(chartCtx, {
                type: 'scatter',
                data: { datasets: [{
                    label: '‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á', data: [],
                    backgroundColor: 'rgba(59, 130, 246, 0.5)', borderColor: 'rgba(59, 130, 246, 1)',
                    borderWidth: 2, pointRadius: 5,
                }, {
                    type: 'line', label: '‡∏Ñ‡πà‡∏≤‡∏ï‡∏≤‡∏°‡∏ó‡∏§‡∏©‡∏é‡∏µ (y=x)', data: [{x: 0, y: 0}, {x: 1, y: 1}],
                    borderColor: 'rgba(239, 68, 68, 0.8)', borderWidth: 2,
                    pointRadius: 0, fill: false, borderDash: [5, 5],
                }] },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: {
                        title: { display: true, text: '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏£‡∏á (W/F) ‡πÅ‡∏•‡∏∞ ‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà (A/a)', font: { size: 14, family: "'Sarabun', sans-serif" } },
                        tooltip: { callbacks: { label: (ctx) => ctx.dataset.label === '‡∏Ñ‡πà‡∏≤‡∏ï‡∏≤‡∏°‡∏ó‡∏§‡∏©‡∏é‡∏µ (y=x)' ? ctx.dataset.label : [`‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà (A/a): ${ctx.parsed.x.toFixed(2)}`, `‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏£‡∏á (W/F): ${ctx.parsed.y.toFixed(2)}`] } }
                    },
                    scales: {
                        x: { type: 'linear', position: 'bottom', title: { display: true, text: '‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà (A/a)' }, min: 0 },
                        y: { title: { display: true, text: '‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏£‡∏á (W/F)' }, min: 0 }
                    }
                }
            });
            updatePascalSim();
        }

        function drawPascalSim() {
            if (!pascalSim.canvas.getContext) return;
            const ctx = pascalSim.canvas.getContext('2d');
            const W = pascalSim.canvas.width = pascalSim.canvas.parentElement.clientWidth;
            const H = pascalSim.canvas.height = pascalSim.canvas.parentElement.clientHeight;
            const d_small = parseFloat(pascalSim.dSmallSlider.value);
            const D_large = parseFloat(pascalSim.dLargeSlider.value);
            ctx.clearRect(0, 0, W, H);
            const groundY = H * 0.85, containerWidth = W * 0.7, containerX = (W - containerWidth) / 2;
            const fluidHeight = H * 0.3, pipeHeight = H * 0.1, pistonHeight = 15;
            const maxVisWidth = containerWidth * 0.4, maxDiameter = parseFloat(pascalSim.dLargeSlider.max);
            const p1Width = Math.max(10, (d_small / maxDiameter) * maxVisWidth), p2Width = Math.max(10, (D_large / maxDiameter) * maxVisWidth);
            const p1X = containerX + (containerWidth * 0.25) - (p1Width / 2), p2X = containerX + (containerWidth * 0.75) - (p2Width / 2);
            const fluidTopY = groundY - fluidHeight - pipeHeight;
            const fluidLvl1 = fluidTopY, fluidLvl2 = fluidTopY; // Simplified for static view
            ctx.fillStyle = '#60a5fa';
            ctx.fillRect(p1X, fluidLvl1, p1Width, groundY - fluidLvl1);
            ctx.fillRect(p2X, fluidLvl2, p2Width, groundY - fluidLvl2);
            ctx.fillRect(p1X, groundY - pipeHeight, (p2X + p2Width) - p1X, pipeHeight);
            ctx.fillStyle = '#718096';
            const p1y = fluidLvl1 - pistonHeight, p2y = fluidLvl2 - pistonHeight;
            ctx.fillRect(p1X, p1y, p1Width, pistonHeight);
            ctx.fillRect(p2X, p2y, p2Width, pistonHeight);
            const massWidth = p2Width * 0.8, massHeight = 40;
            ctx.fillStyle = '#f59e0b';
            ctx.fillRect(p2X + (p2Width - massWidth) / 2, p2y - massHeight, massWidth, massHeight);
            ctx.fillStyle = '#1f2937'; ctx.font = 'bold 16px Sarabun'; ctx.textAlign = 'center';
            ctx.fillText('M', p2X + p2Width / 2, p2y - massHeight / 2 + 6);
            drawArrow(ctx, p1X + p1Width / 2, p1y - 50, p1X + p1Width / 2, p1y - 5, '#d97706', 'F');
            drawArrow(ctx, p2X + p2Width / 2, p2y - massHeight - 5, p2X + p2Width / 2, p2y - massHeight - 50, '#16a34a', 'W');
        }

        function updatePascalSim() {
            if (!pascalSim.fSlider) return;
            const F = parseFloat(pascalSim.fSlider.value);
            const d = parseFloat(pascalSim.dSmallSlider.value);
            const D = parseFloat(pascalSim.dLargeSlider.value);
            
            const a = Math.PI * (d / 200) ** 2;
            const A = Math.PI * (D / 200) ** 2;
            const p = a > 0 ? F / a : 0;
            const W = p * A;
            const areaRatio = a > 0 ? A / a : 0;
            const pressureText = `${(p / 1000).toLocaleString('th-TH', { maximumFractionDigits: 2 })} kPa`;

            pascalSim.aVal.innerHTML = `${formatArea(a)} m¬≤`;
            pascalSim.AVal.innerHTML = `${formatArea(A)} m¬≤`;
            pascalSim.p_small_val.textContent = pressureText;
            pascalSim.p_large_val.textContent = pressureText;
            pascalSim.WVal.textContent = W.toLocaleString('th-TH', { maximumFractionDigits: 2 });
            pascalSim.maVal.textContent = areaRatio.toLocaleString('th-TH', { maximumFractionDigits: 2 });
            
            drawPascalSim();
        }

        function logPascalData() {
            const F = parseFloat(pascalSim.fSlider.value);
            const d = parseFloat(pascalSim.dSmallSlider.value);
            const D = parseFloat(pascalSim.dLargeSlider.value);
            const a = Math.PI * (d / 200) ** 2;
            const A = Math.PI * (D / 200) ** 2;
            const W = a > 0 ? F * (A / a) : 0;
            if(a > 0 && F > 0) {
                const areaRatio = A / a;
                const forceRatio = W / F;
                pascalChart.data.datasets[0].data.push({ x: areaRatio, y: forceRatio });
                const maxVal = Math.max(...pascalChart.data.datasets[0].data.flatMap(p => [p.x, p.y]), 10) * 1.1;
                pascalChart.data.datasets[1].data = [{x: 0, y: 0}, {x: maxVal, y: maxVal}];
                pascalChart.options.scales.x.max = maxVal;
                pascalChart.options.scales.y.max = maxVal;
                pascalChart.update();
                pascalExperimentData.push([F, d, formatAreaForCSV(a), D, formatAreaForCSV(A), W.toFixed(2), areaRatio.toFixed(2), forceRatio.toFixed(2), areaRatio.toFixed(2)]);
            }
        }
        
        // --- Simulation 3: Buoyancy ---
        const buoyancySim = {
            canvas: document.getElementById('buoyancyCanvas'),
            chartCanvas: document.getElementById('buoyancyChart'),
            materialButtons: document.getElementById('materialButtons'),
            volumeSlider: document.getElementById('volumeSlider'),
            volumeNumber: document.getElementById('volumeNumber'),
            statusDisplay: document.getElementById('buoyancyStatus'),
            calculateBtn: document.getElementById('calculateBuoyancyBtn'),
            clearBtn: document.getElementById('clearBuoyancyGraphBtn'),
            exportBtn: document.getElementById('exportBuoyancyCsvBtn'),
        };
        let activeMaterialBtn = buoyancySim.materialButtons ? buoyancySim.materialButtons.querySelector('.material-btn') : null;

        function initializeBuoyancySim() {
            if (!buoyancySim.canvas) return;
            linkSliderAndNumber('volumeSlider', 'volumeNumber');
            const chartCtx = buoyancySim.chartCanvas.getContext('2d');
            buoyancyChart = new Chart(chartCtx, {
                type: 'bar',
                data: { labels: [], datasets: [{ label: '‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å (W)', data: [], backgroundColor: '#ef4444' }, { label: '‡πÅ‡∏£‡∏á‡∏û‡∏¢‡∏∏‡∏á (F ô)', data: [], backgroundColor: '#3b82f6' }] },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { title: { display: true, text: '‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡πÅ‡∏£‡∏á', font: { size: 14, family: "'Sarabun', sans-serif" } } },
                    scales: { y: { beginAtZero: true, title: { display: true, text: '‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ç‡∏≠‡∏á‡πÅ‡∏£‡∏á (N)' } } }
                }
            });
            updateBuoyancySim();
        }
        
        function drawBuoyancySim() {
            if (!buoyancySim.canvas.getContext) return;
            const ctx = buoyancySim.canvas.getContext('2d');
            const W = buoyancySim.canvas.width = buoyancySim.canvas.parentElement.clientWidth;
            const H = buoyancySim.canvas.height = buoyancySim.canvas.parentElement.clientHeight;
            const rho_obj = parseFloat(activeMaterialBtn.dataset.density);
            const rho_fluid = 1000;
            const V = parseFloat(buoyancySim.volumeSlider.value);
            ctx.clearRect(0, 0, W, H);
            const fluidBottom = H * 0.95;
            const waterLevelY = H * 0.5;
            ctx.fillStyle = 'rgba(96, 165, 250, 0.7)';
            ctx.fillRect(0, waterLevelY, W, fluidBottom - waterLevelY);
            ctx.fillStyle = '#1e3a8a';
            ctx.fillRect(0, waterLevelY, W, 3);
            const totalVolumePixels = 80000;
            const objectWidth = Math.cbrt(V / 0.05 * totalVolumePixels) * 1.5;
            const objectHeight = objectWidth / 1.5;
            const objectX = (W - objectWidth) / 2;
            const weight = rho_obj * V * GRAVITY;
            let objectBottomY;
            if (rho_obj >= rho_fluid) {
                objectBottomY = fluidBottom;
            } else {
                const submergedRatio = rho_obj / rho_fluid;
                const submergedHeight = objectHeight * submergedRatio;
                objectBottomY = waterLevelY + submergedHeight;
            }
            ctx.fillStyle = '#f59e0b';
            ctx.fillRect(objectX, objectBottomY - objectHeight, objectWidth, objectHeight);
            const objectCenterX = objectX + objectWidth / 2;
            const objectCenterY = objectBottomY - objectHeight / 2;
            const maxForce = rho_fluid * 0.05 * GRAVITY; 
            const arrowLengthScale = H / (maxForce * 2.5);
            const weightArrowLength = weight * arrowLengthScale;
            drawArrow(ctx, objectCenterX, objectCenterY, objectCenterX, objectCenterY + weightArrowLength, '#ef4444', 'W');
            const submergedVolume = (rho_obj < rho_fluid) ? (weight / (rho_fluid * GRAVITY)) : V;
            const actualBuoyantForce = submergedVolume * rho_fluid * GRAVITY;
            const buoyancyArrowLength = actualBuoyantForce * arrowLengthScale;
            drawArrow(ctx, objectCenterX, objectCenterY, objectCenterX, objectCenterY - buoyancyArrowLength, '#3b82f6', 'F ô');
        }
        
        function updateBuoyancySim() {
            if (!buoyancySim.volumeSlider) return;
            const rho_obj = parseFloat(activeMaterialBtn.dataset.density);
            let status;
            if (rho_obj > 1000) status = '‡∏à‡∏°';
            else if (rho_obj < 1000) status = '‡∏•‡∏≠‡∏¢';
            else status = '‡∏•‡∏≠‡∏¢‡∏õ‡∏£‡∏¥‡πà‡∏°';
            buoyancySim.statusDisplay.textContent = status;
            drawBuoyancySim();
        }

        function logBuoyancyData() {
            const rho_obj = parseFloat(activeMaterialBtn.dataset.density);
            const V = parseFloat(buoyancySim.volumeSlider.value);
            const rho_fluid = 1000;
            const materialName = activeMaterialBtn.textContent;
            
            const weight = rho_obj * V * GRAVITY;
            const maxBuoyantForce = rho_fluid * V * GRAVITY;
            const actualBuoyantForce = Math.min(weight, maxBuoyantForce); // Corrected logic
            const status = buoyancySim.statusDisplay.textContent;

            buoyancyExperimentData.push([materialName, rho_obj, V, weight.toFixed(2), actualBuoyantForce.toFixed(2), status]); // Use actual force for CSV
            
            const label = `${materialName.substring(0,3)}. (${V.toFixed(3)} m¬≥)`
            buoyancyChart.data.labels.push(label);
            buoyancyChart.data.datasets[0].data.push(weight);
            buoyancyChart.data.datasets[1].data.push(actualBuoyantForce); // Use actual force for Chart
            buoyancyChart.update();
            updateBuoyancySim();
        }

        // --- Initializers and Event Listeners ---
        window.addEventListener('resize', () => {
            if (pressureSim.canvas) drawPressureSim();
            if (pascalSim.canvas) drawPascalSim();
            if (buoyancySim.canvas) drawBuoyancySim();
        });
        
        if (pressureSim.canvas) {
            initializePressureSim();
            ['input', 'change'].forEach(evt => {
                pressureSim.densitySlider.addEventListener(evt, updatePressureSim);
                pressureSim.depthSlider.addEventListener(evt, updatePressureSim);
                pressureSim.densityNumber.addEventListener(evt, updatePressureSim);
                pressureSim.depthNumber.addEventListener(evt, updatePressureSim);
            });
            pressureSim.calculateBtn.addEventListener('click', logPressureData);
            pressureSim.clearBtn.addEventListener('click', () => {
                pressureExperimentData = [];
                pressureChart.data.datasets[0].data = [];
                pressureChart.update();
            });
            const pressureHeadersCSV = ['‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∂‡∏Å h (m)','‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô rho (kg/m^3)','‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô P (kPa)'];
            pressureSim.exportBtn.addEventListener('click', () => exportToCSV('pressure_data.csv', pressureHeadersCSV, pressureExperimentData));
        }

        if (pascalSim.canvas) {
            initializePascalSim();
            ['input', 'change'].forEach(evt => {
                pascalSim.fSlider.addEventListener(evt, updatePascalSim);
                pascalSim.dSmallSlider.addEventListener(evt, updatePascalSim);
                pascalSim.dLargeSlider.addEventListener(evt, updatePascalSim);
                pascalSim.fNumber.addEventListener(evt, updatePascalSim);
                pascalSim.dSmallNumber.addEventListener(evt, updatePascalSim);
                pascalSim.dLargeNumber.addEventListener(evt, updatePascalSim);
            });
            pascalSim.calculateBtn.addEventListener('click', logPascalData);
            pascalSim.clearBtn.addEventListener('click', () => {
                pascalExperimentData = [];
                pascalChart.data.datasets[0].data = [];
                pascalChart.data.datasets[1].data = [{x: 0, y: 0}, {x: 1, y: 1}];
                pascalChart.options.scales.x.max = undefined;
                pascalChart.options.scales.y.max = undefined;
                pascalChart.update();
            });
            const pascalHeadersCSV = ["‡πÅ‡∏£‡∏á‡∏Å‡∏î F (N)","‡πÄ‡∏™‡πâ‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á d (cm)","‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà a (m^2)","‡πÄ‡∏™‡πâ‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏Å‡∏•‡∏≤‡∏á D (cm)","‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà A (m^2)","‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å W (N)","‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà A/a","‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏™‡πà‡∏ß‡∏ô‡πÅ‡∏£‡∏á W/F", "‡∏Å‡∏≤‡∏£‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏• (M.A.)"];
            pascalSim.exportBtn.addEventListener('click', () => exportToCSV('pascal_data.csv', pascalHeadersCSV, pascalExperimentData));
        }

        if (buoyancySim.canvas) {
            initializeBuoyancySim();
            buoyancySim.materialButtons.querySelectorAll('.material-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    if (activeMaterialBtn) activeMaterialBtn.classList.remove('material-btn-active');
                    btn.classList.add('material-btn-active');
                    activeMaterialBtn = btn;
                    updateBuoyancySim();
                });
            });
            ['input', 'change'].forEach(evt => {
                 buoyancySim.volumeSlider.addEventListener(evt, updateBuoyancySim);
                 buoyancySim.volumeNumber.addEventListener(evt, updateBuoyancySim);
            });
            buoyancySim.calculateBtn.addEventListener('click', logBuoyancyData);
            buoyancySim.clearBtn.addEventListener('click', () => {
                buoyancyExperimentData = [];
                buoyancyChart.data.labels = [];
                buoyancyChart.data.datasets[0].data = [];
                buoyancyChart.data.datasets[1].data = [];
                buoyancyChart.update();
            });
            const buoyancyHeadersCSV = ['‡∏ß‡∏±‡∏™‡∏î‡∏∏','‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏ rho_obj (kg/m^3)','‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ï‡∏£ V (m^3)','‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å W (N)','‡πÅ‡∏£‡∏á‡∏û‡∏¢‡∏∏‡∏á FB (N)','‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞']; // Corrected Header
            buoyancySim.exportBtn.addEventListener('click', () => exportToCSV('buoyancy_data.csv', buoyancyHeadersCSV, buoyancyExperimentData));
        }
    });
    </script>
</body>
</html>

